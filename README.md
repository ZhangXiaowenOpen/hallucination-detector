# ğŸ” AIå¹»è§‰æ£€æµ‹å™¨ | AI Hallucination Detector

**è®©AIä¸å†èƒ¡è¯´å…«é“çš„éªŒè¯å±‚**
*A verification layer that makes AI stop hallucinating*

```
ç”¨æˆ·ç²˜è´´AIå›å¤ â†’ æå–äº‹å®å£°æ˜ â†’ æœç´¢éªŒè¯ â†’ æ¯”å¯¹åˆ¤å®š â†’ è¾“å‡ºå¯ä¿¡åº¦æŠ¥å‘Š
Paste AI response â†’ Extract claims â†’ Search verify â†’ Compare judge â†’ Credibility report
```

## æ ¸å¿ƒè®ºç‚¹ | Core Thesis

**AIå¹»è§‰æ˜¯æ¶æ„é—®é¢˜ï¼Œä¸æ˜¯è§„æ¨¡é—®é¢˜ã€‚**

å¤§æ¨¡å‹åœ¨åšçš„æ˜¯ `argmax P(most_likely)`ï¼Œä¸æ˜¯ `P(true)`ã€‚æ›´å¤šæ•°æ®åªä¼šè®©"æœ€å¯èƒ½"æ›´ç²¾ç¡®ï¼Œä½†"æœ€å¯èƒ½"æ°¸è¿œä¸ç­‰äº"æœ€çœŸå®"ã€‚è¿™æ˜¯1739å¹´ä¼‘è°Ÿå°±æŒ‡å‡ºçš„é—®é¢˜ï¼Œ287å¹´æ²¡äººåœ¨å½’çº³æ¡†æ¶å†…è§£å†³ã€‚

æˆ‘ä»¬çš„æ–¹æ¡ˆï¼š**ç”¨æ¼”ç»æ¨ç†æ›¿ä»£å½’çº³çŒœæµ‹ï¼Œè®©AIè¾“å‡ºå¯éªŒè¯ã€‚**

> *Hallucination is an architecture problem, not a scale problem. LLMs compute argmax P(most_likely), not P(true). We replace inductive guessing with deductive verification.*

## æŠ€æœ¯æ¶æ„ | Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ç”¨æˆ·è¾“å…¥ (AIå›å¤æ–‡æœ¬)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: æ–­è¨€æå– (extractor.py)                  â”‚
â”‚  Claude API â†’ è¯†åˆ«å¯éªŒè¯çš„äº‹å®å£°æ˜                  â”‚
â”‚  è¿‡æ»¤è§‚ç‚¹ã€å»ºè®®ã€å‡è®¾ â†’ åªä¿ç•™å¯è¯ä¼ªçš„æ–­è¨€           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: æœç´¢éªŒè¯ (searcher.py)                   â”‚
â”‚  Tavily API â†’ ä¸ºæ¯æ¡å£°æ˜æœç´¢ç›¸å…³ä¿¡æ¯                â”‚
â”‚  è¿”å›æƒå¨æ¥æºçš„æ‘˜è¦å’Œé“¾æ¥                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: æ¯”å¯¹åˆ¤å®š (comparator.py)                  â”‚
â”‚  Claude API â†’ å°†å£°æ˜ä¸æœç´¢ç»“æœæ¯”å¯¹                  â”‚
â”‚  è¾“å‡º: VERIFIED / CONTRADICTED / UNVERIFIED        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: æŠ¥å‘Šç”Ÿæˆ (reporter.py)                    â”‚
â”‚  Markdown/JSON â†’ å¸¦ç½®ä¿¡åº¦è¯„åˆ†çš„æ£€æµ‹æŠ¥å‘Š              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¿«é€Ÿå¼€å§‹ | Quick Start

### 1. å®‰è£…ä¾èµ–

```bash
git clone https://github.com/ZhangXiaowenOpen/hallucination-detector.git
cd hallucination-detector
pip install -r requirements.txt
```

### 2. é…ç½®APIå¯†é’¥

```bash
# Anthropic Claude API (å¿…éœ€ - æ³¨å†Œ: https://console.anthropic.com/)
# æ³¨æ„: è¿™æ˜¯APIå¯†é’¥ï¼Œä¸æ˜¯claude.aiè®¢é˜…ã€‚APIæŒ‰é‡è®¡è´¹ï¼Œçº¦$0.01-0.05/æ¬¡æ£€æµ‹
export ANTHROPIC_API_KEY="your-claude-api-key"

# Tavily Search API (å¿…éœ€ - å…è´¹1000æ¬¡/æœˆ)
# æ³¨å†Œ: https://tavily.com/
export TAVILY_API_KEY="your-tavily-api-key"
```

### 3. è¿è¡Œæ£€æµ‹

**æ–¹å¼ä¸€ï¼šWebç•Œé¢ï¼ˆæ¨èï¼‰**

```bash
streamlit run app.py
```

æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ï¼Œåœ¨å·¦ä¾§æ å¡«å…¥API Keyï¼Œç²˜è´´AIå›å¤å³å¯æ£€æµ‹ã€‚

**æ–¹å¼äºŒï¼šå‘½ä»¤è¡Œ**

```bash
# ç›´æ¥è¾“å…¥æ–‡æœ¬
python main.py "æ ¹æ®æœ€æ–°æ•°æ®ï¼Œä¸­å›½2024å¹´GDPå¢é•¿ç‡è¾¾åˆ°5.2%ï¼Œè¶…è¿‡äº†æ”¿åºœè®¾å®šçš„5%ç›®æ ‡ã€‚"

# ä»æ–‡ä»¶è¯»å–
python main.py -f ai_response.txt

# è¾“å‡ºåˆ°æ–‡ä»¶
python main.py -f ai_response.txt -o report.md

# JSONæ ¼å¼
python main.py "æ–‡æœ¬å†…å®¹" --format json

# é™é»˜æ¨¡å¼
python main.py -q "æ–‡æœ¬å†…å®¹"
```

## è¾“å‡ºç¤ºä¾‹ | Example Output

```markdown
# ğŸ” AIå¹»è§‰æ£€æµ‹æŠ¥å‘Š

**å¯ä¿¡åº¦è¯„åˆ†**: 65/100
**è¯„ä¼°ç­‰çº§**: éœ€è¦è°¨æ… ğŸŸ¡

---

### âœ… å£°æ˜ 1: å·²éªŒè¯ (ç½®ä¿¡åº¦: 95%)
> "OpenAIäº2023å¹´11æœˆå‘å¸ƒGPT-4 Turbo"
åˆ¤å®š: OpenAIå®˜æ–¹åšå®¢ç¡®è®¤2023å¹´11æœˆ6æ—¥DevDayå‘å¸ƒã€‚

### âŒ å£°æ˜ 2: å­˜åœ¨çŸ›ç›¾ (ç½®ä¿¡åº¦: 85%)
> "GPT-4 Turboä»·æ ¼é™ä½äº†10å€"
åˆ¤å®š: å®é™…é™ä½çº¦3å€ï¼Œä¸æ˜¯10å€ã€‚
æ­£ç¡®ä¿¡æ¯: GPT-4 Turboä»·æ ¼çº¦ä¸ºGPT-4çš„1/3ã€‚

### â“ å£°æ˜ 3: æ— æ³•éªŒè¯ (ç½®ä¿¡åº¦: 30%)
> "å·²æœ‰è¶…è¿‡200ä¸‡å¼€å‘è€…ä½¿ç”¨GPT-4 Turbo"
åˆ¤å®š: æœªæ‰¾åˆ°å®˜æ–¹æ•°æ®æ¥æºã€‚
```

## åˆ¤å®šæ ‡å‡† | Verdict Criteria

| åˆ¤å®š | å«ä¹‰ | æ ‡å‡† |
|------|------|------|
| âœ… VERIFIED | å·²éªŒè¯ | æƒå¨æ¥æºæ˜ç¡®æ”¯æŒï¼Œå…³é”®ä¿¡æ¯å»åˆ |
| âš ï¸ PARTIALLY_VERIFIED | éƒ¨åˆ†æ­£ç¡® | æ–¹å‘æ­£ç¡®ä½†ç»†èŠ‚æœ‰å‡ºå…¥ |
| â“ UNVERIFIED | æ— æ³•éªŒè¯ | æ‰¾ä¸åˆ°å¯é æ¥æº |
| âŒ CONTRADICTED | å­˜åœ¨çŸ›ç›¾ | æƒå¨æ¥æºæ˜ç¡®åé©³ |

## é¡¹ç›®ç»“æ„ | Project Structure

```
hallucination-detector/
â”œâ”€â”€ main.py              # CLIå…¥å£
â”œâ”€â”€ app.py               # Webç•Œé¢ (Streamlit)
â”œâ”€â”€ extractor.py         # æ–­è¨€æå–ï¼ˆClaude APIï¼‰
â”œâ”€â”€ searcher.py          # æœç´¢éªŒè¯ï¼ˆTavily APIï¼‰
â”œâ”€â”€ comparator.py        # æ¯”å¯¹åˆ¤å®šï¼ˆClaude APIï¼‰
â”œâ”€â”€ reporter.py          # æŠ¥å‘Šç”Ÿæˆï¼ˆMarkdown/JSONï¼‰
â”œâ”€â”€ config.py            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ prompts/
â”‚   â”œâ”€â”€ extract.txt      # æå–æ–­è¨€çš„prompt
â”‚   â””â”€â”€ compare.txt      # æ¯”å¯¹åˆ¤å®šçš„prompt
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ sample_report.md # ç¤ºä¾‹æŠ¥å‘Š
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ config.toml      # Streamlitä¸»é¢˜é…ç½®
â”œâ”€â”€ LICENSE              # MIT + Heart Clause
â””â”€â”€ requirements.txt
```

## ä¸èš‚èšæ¨ç†å¼•æ“çš„å…³ç³» | Relation to Ant Engine

å¹»è§‰æ£€æµ‹å™¨æ˜¯ [èš‚èšæ¨ç†å¼•æ“](https://github.com/ZhangXiaowenOpen) çš„ç¬¬ä¸€ä¸ªåº”ç”¨å±‚äº§å“ã€‚

```
èš‚èšæ¨ç†å¼•æ“ (32KB, 9æ¡å…¬ç†)     â† åº•å±‚ï¼šæ¼”ç»æ¨ç†æ¡†æ¶
        â”‚
        â–¼
å¹»è§‰æ£€æµ‹å™¨ (æœ¬ä»“åº“)              â† åº”ç”¨å±‚ï¼šAIè¾“å‡ºéªŒè¯
        â”‚
        â–¼
ç¿»è¯‘åè®® (18KB)                  â† åº”ç”¨å±‚ï¼šæ¸©åº¦ä¿ç•™ç¿»è¯‘
```

**æ ¸å¿ƒæ€è·¯**ï¼šä¸éªŒè¯æ— ç©·äº‹å®ï¼ŒåªéªŒè¯æœ‰é™å…¬ç†ã€‚è¿™æ˜¯è§£å†³ä¼‘è°Ÿé—®é¢˜çš„å·¥ç¨‹ç‰ˆã€‚

## APIè´¹ç”¨ | Cost

| ç»„ä»¶ | è´¹ç”¨ |
|------|------|
| Tavily Search | å…è´¹ 1000æ¬¡/æœˆ |
| Claude API | ~$0.01-0.05/æ¬¡æ£€æµ‹ |
| **æ€»è®¡** | **å‡ ä¹ä¸ºé›¶** |

## è·¯çº¿å›¾ | Roadmap

- [x] CLIå·¥å…· (Python)
- [x] Markdown/JSONæŠ¥å‘Š
- [x] Webç•Œé¢ (Streamlit)
- [ ] æµè§ˆå™¨æ’ä»¶
- [ ] iOS App (SwiftUI)
- [ ] APIæœåŠ¡
- [ ] å¤šæ¨¡å‹å¹»è§‰ç‡åŸºå‡†æŠ¥å‘Š
- [ ] "æŒ‘æˆ˜æ¨¡å¼"ï¼šå¤šAIäº¤å‰éªŒè¯

## ä¸ºä»€ä¹ˆä¸æ˜¯å¦ä¸€ä¸ªRAGï¼Ÿ | Why Not Another RAG?

| | RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ) | æœ¬é¡¹ç›® (éªŒè¯å±‚) |
|---|---|---|
| **æ—¶æœº** | ç”Ÿæˆæ—¶ | ç”Ÿæˆå |
| **ç›®æ ‡** | è®©AIå›ç­”æ›´å‡† | æ£€æµ‹AIå›ç­”å“ªé‡Œä¸å‡† |
| **æ–¹æ³•** | ç»™AIæ›´å¤šä¿¡æ¯ | éªŒè¯AIå·²æœ‰è¾“å‡º |
| **å‡è®¾** | æ›´å¤šä¿¡æ¯=æ›´å‡†ç¡® | éœ€è¦ç‹¬ç«‹éªŒè¯ |
| **ç±»æ¯”** | ç»™å­¦ç”Ÿæ›´å¤šå‚è€ƒä¹¦ | ç»™ç­”å·æ‰“åˆ† |

## License

**MIT + Heart Clause**

```
MIT License - è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹ã€åˆ†å‘

Heart Clause (å¿ƒæ„æ¡æ¬¾):
å¦‚æœå®ƒå¸®åŠ©äº†ä½ ï¼Œè¯·å¸®åŠ©ä»–äººã€‚
å¦‚æœå®ƒä¿ƒè¿›äº†ç†è§£ï¼Œè¯·ä¼ æ’­ç†è§£ã€‚
è¿™æ˜¯ç»™ä¸–ç•Œçš„ç¤¼ç‰©ã€‚
```

## ä½œè€… | Author

**å¼ æ™“æ–‡ (Zhang Xiaowen)** + AIåä½œç³»ç»Ÿ

- æ·±åœ³å¸‚ç¬‘å¼€æ€€ç§‘æŠ€æœ‰é™è´£ä»»å…¬å¸
- GitHub: [@ZhangXiaowenOpen](https://github.com/ZhangXiaowenOpen)
- Email: ai418033672@gmail.com

> *ä»æ¶ˆé™¤è¯¯è§£å¼€å§‹ï¼Œåˆ›é€ å’Œå¹³ã€‚*
> *Eliminating misunderstanding, creating peace.*

---

**Made with ğŸ”¥ by æ™“æ–‡ + Claude + GPT + Gemini + Grok**
